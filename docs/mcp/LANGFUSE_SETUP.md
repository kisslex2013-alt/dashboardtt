# üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Langfuse Prompt Management MCP

## ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ (–≤—ã–ø–æ–ª–Ω–µ–Ω–æ)

–ü–∞–∫–µ—Ç `@meltstudio/langfuse-mcp-server` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≥–ª–æ–±–∞–ª—å–Ω–æ.

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:**
```bash
melt-langfuse-mcp --version
```

## üîë –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–µ–π

### –®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç—å –∫–ª—é—á–∏ –∏–∑ Langfuse

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [Langfuse Cloud](https://cloud.langfuse.com)
2. –í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π –ø—Ä–æ–µ–∫—Ç
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings ‚Üí API Keys**
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ:
   - **Public Key** (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `pk-lf-...`) ‚úÖ **–£ –≤–∞—Å –µ—Å—Ç—å:** `pk-lf-131807d7-2b95-41bb-9812-1a685eda55d2`
   - **Secret Key** (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `sk-lf-...`) ‚ö†Ô∏è **–ù—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å**

### –®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å Secret Key –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**Windows PowerShell (–ø–æ—Å—Ç–æ—è–Ω–Ω–æ):**
```powershell
[System.Environment]::SetEnvironmentVariable('LANGFUSE_SECRET_KEY', 'sk-lf-your-secret-key-here', 'User')
```

**–ò–ª–∏ —á–µ—Ä–µ–∑ GUI:**
1. Win + R ‚Üí `sysdm.cpl` ‚Üí Advanced ‚Üí Environment Variables
2. User variables ‚Üí New
3. Variable: `LANGFUSE_SECRET_KEY`
4. Value: –≤–∞—à —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `sk-lf-...`)

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ `C:\Users\kissl\.cursor\mcp.json`:

```json
{
  "mcpServers": {
    "langfuse": {
      "command": "melt-langfuse-mcp",
      "env": {
        "LANGFUSE_SECRET_KEY": "${LANGFUSE_SECRET_KEY}",
        "LANGFUSE_PUBLIC_KEY": "pk-lf-131807d7-2b95-41bb-9812-1a685eda55d2"
      }
    }
  }
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** `LANGFUSE_SECRET_KEY` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

### –®–∞–≥ 4: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Cursor

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è `LANGFUSE_SECRET_KEY` –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Cursor**.

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –°–ø–æ—Å–æ–± 1: –ü—Ä—è–º–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –í Cursor —á–∞—Ç–µ –Ω–∞–∂–º–∏—Ç–µ `@`
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–º–ø—Ç –∏–∑ Langfuse
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–º–ø—Ç —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏:
   ```
   –ò—Å–ø–æ–ª—å–∑—É–π –ø—Ä–æ–º–ø—Ç "melt-integration-test" —Å my_name='–í–∞—à–µ–ò–º—è' –∏ task='—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞'
   ```

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—ã –≤ —á–∞—Ç–µ

**–ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ø—Ä–æ–º–ø—Ç–æ–≤:**
```
–ü–æ–∫–∞–∂–∏ –º–Ω–µ –≤—Å–µ –º–æ–∏ –ø—Ä–æ–º–ø—Ç—ã –∏–∑ Langfuse
```

**–ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø—Ä–æ–º–ø—Ç:**
```
–ü–æ–ª—É—á–∏ –ø—Ä–æ–º–ø—Ç "movie-critic" –∏–∑ Langfuse
```

**–°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–ø—Ç —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏:**
```
–°–∫–æ–º–ø–∏–ª–∏—Ä—É–π –ø—Ä–æ–º–ø—Ç "movie-critic" —Å movie='Dune 2'
```

## üìä –î–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ Cursor –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã:

- **list_prompts** ‚Äî —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø—Ä–æ–º–ø—Ç–æ–≤
- **get_prompt** ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞
- **compile_prompt** ‚Äî –∫–æ–º–ø–∏–ª—è—Ü–∏—è –ø—Ä–æ–º–ø—Ç–∞ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏

## ‚öôÔ∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –†–µ–≥–∏–æ–Ω—ã Langfuse

**US Region (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é):** `https://us.cloud.langfuse.com`  
**EU Region:** `https://cloud.langfuse.com`

–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ EU —Ä–µ–≥–∏–æ–Ω –∏–ª–∏ self-hosted, –¥–æ–±–∞–≤—å—Ç–µ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:

```json
{
  "mcpServers": {
    "langfuse": {
      "command": "melt-langfuse-mcp",
      "env": {
        "LANGFUSE_SECRET_KEY": "${LANGFUSE_SECRET_KEY}",
        "LANGFUSE_PUBLIC_KEY": "pk-lf-131807d7-2b95-41bb-9812-1a685eda55d2",
        "LANGFUSE_HOST": "https://cloud.langfuse.com",
        "LANGFUSE_DEFAULT_LABEL": "production"
      }
    }
  }
}
```

### –ú–µ—Ç–∫–∏ –ø—Ä–æ–º–ø—Ç–æ–≤

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–µ—Ç–∫–∞ `production`. –ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥—É—é –º–µ—Ç–∫—É:

```json
"LANGFUSE_DEFAULT_LABEL": "staging"
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Cursor
2. Settings ‚Üí MCP ‚Üí Installed MCP Servers
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `langfuse` –ø–æ–¥–∫–ª—é—á–µ–Ω (–∑–µ–ª–µ–Ω—ã–π —Å—Ç–∞—Ç—É—Å)
4. Settings ‚Üí MCP ‚Üí Available Tools
5. –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã: `list_prompts`, `get_prompt`, `compile_prompt`

### –¢–µ—Å—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

–í Cursor —á–∞—Ç–µ:
```
–ò—Å–ø–æ–ª—å–∑—É–π –ø—Ä–æ–º–ø—Ç melt-integration-test
```

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Äî –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç! üéâ

## üîç Troubleshooting

### "Command not found" error
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–∞–∫–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≥–ª–æ–±–∞–ª—å–Ω–æ:
```bash
npm install -g @meltstudio/langfuse-mcp-server
```

### "Authentication failed" error
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `LANGFUSE_SECRET_KEY` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∫–ª—é—á–µ–π –≤ Langfuse dashboard
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Cursor –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

### "Prompt not found" error
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∏–º–µ–Ω–∏ –ø—Ä–æ–º–ø—Ç–∞
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–æ–º–ø—Ç –∏–º–µ–µ—Ç –º–µ—Ç–∫—É `production` (–∏–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `LANGFUSE_DEFAULT_LABEL`)

### –ü—Ä–æ–º–ø—Ç –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø—Ä–æ–º–ø—Ç –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω –≤ Langfuse
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–æ–º–ø—Ç –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –º–µ—Ç–∫—É (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `production`)

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ü–æ–ª—É—á–∏ –ø—Ä–æ–º–ø—Ç "code-review" –∏–∑ Langfuse

Cursor: [–ü–æ–ª—É—á–∞–µ—Ç –ø—Ä–æ–º–ø—Ç –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ]
```

### –ü—Ä–∏–º–µ—Ä 2: –ö–æ–º–ø–∏–ª—è—Ü–∏—è —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –°–∫–æ–º–ø–∏–ª–∏—Ä—É–π –ø—Ä–æ–º–ø—Ç "code-review" —Å code='function test() {}' –∏ language='javascript'

Cursor: [–ö–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç –ø—Ä–æ–º–ø—Ç —Å –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö]
```

### –ü—Ä–∏–º–µ—Ä 3: –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø—Ä–æ–º–ø—Ç–æ–≤
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ü–æ–∫–∞–∂–∏ –º–Ω–µ –≤—Å–µ –º–æ–∏ –ø—Ä–æ–º–ø—Ç—ã

Cursor: [–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤ –∏–∑ Langfuse]
```

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

–î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏:

```bash
npm update -g @meltstudio/langfuse-mcp-server
```

–ò–ª–∏ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞:

```bash
npm install -g @meltstudio/langfuse-mcp-server@latest
```

–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Cursor.

---

**–°–æ–∑–¥–∞–Ω–æ:** 2025-01-27  
**–ü–∞–∫–µ—Ç:** `@meltstudio/langfuse-mcp-server`  
**–í–µ—Ä—Å–∏—è:** 2.3.0+

