<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Вариант 4 - Визуальный</title>
</head>
<body>

<div id="modal" class="modal-overlay">
  <div class="modal-content">
    <div class="header">
      <div>
        <h2 class="title">Настройки звуков</h2>
        <p class="subtitle">Управление звуковыми уведомлениями</p>
      </div>
      <button onclick="closeModal()" class="close-btn">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
      </button>
    </div>

    <div class="visual-grid">
      <div class="visual-card purple" data-type="notification">
        <div class="card-bg"></div>
        <div class="card-content">
          <div id="icon-notification" class="visual-icon">
            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/></svg>
            <div class="glow-ring" id="ring-notification"></div>
          </div>
          <h3 class="card-name">Уведомления</h3>
          <p class="card-time">0.8 секунды</p>
          <div id="wave-notification" class="wave-visual">
            <div class="wave-line"></div>
            <div class="wave-line"></div>
            <div class="wave-line"></div>
            <div class="wave-line"></div>
            <div class="wave-line"></div>
            <div class="wave-line"></div>
            <div class="wave-line"></div>
          </div>
          <button onclick="playVisual('notification')" class="play-visual">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
          </button>
          <div onclick="toggleSwitch('sound-notification')" id="sound-notification" class="toggle-visual active"></div>
        </div>
      </div>

      <div class="visual-card green" data-type="message">
        <div class="card-bg"></div>
        <div class="card-content">
          <div id="icon-message" class="visual-icon">
            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"/></svg>
            <div class="glow-ring" id="ring-message"></div>
          </div>
          <h3 class="card-name">Сообщения</h3>
          <p class="card-time">0.5 секунды</p>
          <div id="wave-message" class="wave-visual">
            <div class="wave-line"></div>
            <div class="wave-line"></div>
            <div class="wave-line"></div>
            <div class="wave-line"></div>
            <div class="wave-line"></div>
            <div class="wave-line"></div>
            <div class="wave-line"></div>
          </div>
          <button onclick="playVisual('message')" class="play-visual">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
          </button>
          <div onclick="toggleSwitch('sound-message')" id="sound-message" class="toggle-visual active"></div>
        </div>
      </div>

      <div class="visual-card blue" data-type="hourly">
        <div class="card-bg"></div>
        <div class="card-content">
          <div id="icon-hourly" class="visual-icon">
            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
            <div class="glow-ring" id="ring-hourly"></div>
          </div>
          <h3 class="card-name">Час</h3>
          <p class="card-time">0.6 секунды</p>
          <div id="wave-hourly" class="wave-visual">
            <div class="wave-line"></div>
            <div class="wave-line"></div>
            <div class="wave-line"></div>
            <div class="wave-line"></div>
            <div class="wave-line"></div>
            <div class="wave-line"></div>
            <div class="wave-line"></div>
          </div>
          <button onclick="playVisual('hourly')" class="play-visual">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
          </button>
          <div onclick="toggleSwitch('sound-hourly')" id="sound-hourly" class="toggle-visual"></div>
        </div>
      </div>

      <div class="visual-card yellow" data-type="achievement">
        <div class="card-bg"></div>
        <div class="card-content">
          <div id="icon-achievement" class="visual-icon">
            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/></svg>
            <div class="glow-ring" id="ring-achievement"></div>
          </div>
          <h3 class="card-name">Успех</h3>
          <p class="card-time">1.0 секунда</p>
          <div id="wave-achievement" class="wave-visual">
            <div class="wave-line"></div>
            <div class="wave-line"></div>
            <div class="wave-line"></div>
            <div class="wave-line"></div>
            <div class="wave-line"></div>
            <div class="wave-line"></div>
            <div class="wave-line"></div>
          </div>
          <button onclick="playVisual('achievement')" class="play-visual">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
          </button>
          <div onclick="toggleSwitch('sound-achievement')" id="sound-achievement" class="toggle-visual active"></div>
        </div>
      </div>
    </div>

    <div class="volume-control">
      <div class="volume-header">
        <div class="volume-icon">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"/></svg>
        </div>
        <span class="volume-label">Громкость</span>
        <span id="volume-value" class="volume-percent">80%</span>
      </div>
      <div class="volume-track">
        <div id="volume-fill" class="volume-fill"></div>
        <input type="range" id="volume-slider" min="0" max="100" value="80" class="volume-input">
      </div>
    </div>

    <div class="footer-actions">
      <button onclick="closeModal()" class="action-btn secondary">Отмена</button>
      <button onclick="saveSettings()" class="action-btn primary">Сохранить настройки</button>
    </div>
  </div>
</div>

<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%); min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 20px; }
  
  .modal-overlay { position: fixed; inset: 0; background: rgba(0, 0, 0, 0.75); backdrop-filter: blur(10px); display: flex; align-items: center; justify-content: center; z-index: 50; animation: fadeIn 0.3s ease-out; }
  
  .modal-content { background: linear-gradient(135deg, #1e293b 0%, #334155 100%); border-radius: 28px; padding: 36px; max-width: 700px; width: 100%; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.6); animation: slideUp 0.4s ease-out; border: 1px solid rgba(255, 255, 255, 0.1); }
  
  .header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 28px; }
  .title { color: white; font-size: 26px; font-weight: 700; margin-bottom: 4px; }
  .subtitle { color: #94a3b8; font-size: 14px; }
  .close-btn { background: rgba(255, 255, 255, 0.05); border: none; color: #94a3b8; cursor: pointer; padding: 8px; border-radius: 10px; transition: all 0.2s; }
  .close-btn:hover { background: rgba(255, 255, 255, 0.1); color: white; }
  
  .visual-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px; margin-bottom: 24px; }
  
  .visual-card { position: relative; border-radius: 20px; padding: 24px; overflow: hidden; transition: all 0.3s ease; border: 1px solid rgba(255, 255, 255, 0.1); }
  .visual-card:hover { transform: translateY(-4px); box-shadow: 0 12px 24px rgba(0, 0, 0, 0.3); }
  
  .card-bg { position: absolute; inset: 0; opacity: 0.1; transition: opacity 0.3s; }
  .visual-card.purple .card-bg { background: radial-gradient(circle at top right, #a855f7, transparent); }
  .visual-card.green .card-bg { background: radial-gradient(circle at top right, #22c55e, transparent); }
  .visual-card.blue .card-bg { background: radial-gradient(circle at top right, #3b82f6, transparent); }
  .visual-card.yellow .card-bg { background: radial-gradient(circle at top right, #eab308, transparent); }
  .visual-card:hover .card-bg { opacity: 0.2; }
  
  .card-content { position: relative; z-index: 1; }
  
  .visual-icon { width: 56px; height: 56px; border-radius: 16px; display: flex; align-items: center; justify-content: center; margin-bottom: 16px; position: relative; transition: transform 0.3s; }
  .visual-card.purple .visual-icon { background: rgba(168, 85, 247, 0.2); color: #c084fc; }
  .visual-card.green .visual-icon { background: rgba(34, 197, 94, 0.2); color: #4ade80; }
  .visual-card.blue .visual-icon { background: rgba(59, 130, 246, 0.2); color: #60a5fa; }
  .visual-card.yellow .visual-icon { background: rgba(234, 179, 8, 0.2); color: #facc15; }
  
  .glow-ring { position: absolute; inset: -4px; border-radius: 18px; border: 3px solid currentColor; opacity: 0; }
  
  .card-name { color: white; font-size: 18px; font-weight: 600; margin-bottom: 4px; }
  .card-time { color: #94a3b8; font-size: 13px; margin-bottom: 16px; }
  
  .wave-visual { display: flex; align-items: end; gap: 3px; height: 48px; margin-bottom: 16px; opacity: 0; transition: opacity 0.3s; }
  .wave-line { flex: 1; border-radius: 3px; animation: waveAnimation 1.2s ease-in-out infinite; }
  .visual-card.purple .wave-line { background: #c084fc; }
  .visual-card.green .wave-line { background: #4ade80; }
  .visual-card.blue .wave-line { background: #60a5fa; }
  .visual-card.yellow .wave-line { background: #facc15; }
  
  .wave-line:nth-child(1) { animation-delay: 0s; }
  .wave-line:nth-child(2) { animation-delay: 0.1s; }
  .wave-line:nth-child(3) { animation-delay: 0.2s; }
  .wave-line:nth-child(4) { animation-delay: 0.3s; }
  .wave-line:nth-child(5) { animation-delay: 0.4s; }
  .wave-line:nth-child(6) { animation-delay: 0.5s; }
  .wave-line:nth-child(7) { animation-delay: 0.6s; }
  
  .play-visual { width: 100%; background: rgba(59, 130, 246, 0.15); border: 1px solid rgba(59, 130, 246, 0.3); color: #60a5fa; padding: 10px; border-radius: 12px; display: flex; align-items: center; justify-content: center; gap: 8px; cursor: pointer; transition: all 0.2s; font-size: 14px; font-weight: 500; margin-bottom: 12px; }
  .play-visual:hover { background: rgba(59, 130, 246, 0.25); transform: scale(1.02); }
  
  .toggle-visual { width: 100%; height: 32px; background: #374151; border-radius: 16px; position: relative; cursor: pointer; transition: all 0.3s; }
  .toggle-visual::after { content: ''; position: absolute; width: 24px; height: 24px; background: white; border-radius: 50%; top: 4px; left: 4px; transition: all 0.3s; box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3); }
  .toggle-visual.active { background: #3b82f6; }
  .toggle-visual.active::after { transform: translateX(calc(100% + 8px)); }
  
  .volume-control { background: rgba(30, 41, 59, 0.5); border-radius: 16px; padding: 20px; margin-bottom: 24px; border: 1px solid rgba(255, 255, 255, 0.05); }
  
  .volume-header { display: flex; align-items: center; gap: 12px; margin-bottom: 16px; }
  .volume-icon { color: #94a3b8; }
  .volume-label { color: #e2e8f0; font-size: 15px; font-weight: 500; flex: 1; }
  .volume-percent { color: #60a5fa; font-size: 16px; font-weight: 700; }
  
  .volume-track { position: relative; height: 8px; background: #374151; border-radius: 4px; }
  .volume-fill { position: absolute; left: 0; top: 0; height: 100%; width: 80%; background: linear-gradient(90deg, #3b82f6, #60a5fa); border-radius: 4px; transition: width 0.2s; pointer-events: none; }
  .volume-input { position: absolute; left: 0; top: 0; width: 100%; height: 100%; opacity: 0; cursor: pointer; }
  
  .footer-actions { display: flex; gap: 12px; }
  .action-btn { flex: 1; padding: 14px; border-radius: 14px; border: none; font-weight: 600; cursor: pointer; transition: all 0.2s; font-size: 15px; }
  .action-btn.secondary { background: #374151; color: white; }
  .action-btn.secondary:hover { background: #4b5563; }
  .action-btn.primary { background: linear-gradient(135deg, #3b82f6, #2563eb); color: white; }
  .action-btn.primary:hover { transform: translateY(-2px); box-shadow: 0 8px 16px rgba(59, 130, 246, 0.3); }
  
  .w-8 { width: 2rem; }
  .h-8 { height: 2rem; }
  .w-6 { width: 1.5rem; }
  .h-6 { height: 1.5rem; }
  .w-5 { width: 1.25rem; }
  .h-5 { height: 1.25rem; }
  
  @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
  @keyframes slideUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
  @keyframes pulse { 0%, 100% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.6); opacity: 0; } }
  @keyframes waveAnimation { 0%, 100% { height: 25%; } 50% { height: 100%; } }
</style>

<script>
  function toggleSwitch(id) {
    document.getElementById(id).classList.toggle('active');
  }

  function playVisual(type) {
    const icon = document.getElementById(`icon-${type}`);
    const ring = document.getElementById(`ring-${type}`);
    const wave = document.getElementById(`wave-${type}`);
    
    ring.style.animation = 'pulse 0.8s ease-out';
    setTimeout(() => { ring.style.animation = ''; }, 800);
    
    wave.style.opacity = '1';
    setTimeout(() => { wave.style.opacity = '0'; }, 1200);
    
    icon.style.transform = 'scale(1.15) rotate(5deg)';
    setTimeout(() => { icon.style.transform = 'scale(1) rotate(0deg)'; }, 300);
  }

  function closeModal() {
    const modal = document.getElementById('modal');
    modal.style.animation = 'fadeIn 0.2s ease-out reverse';
    setTimeout(() => { modal.style.display = 'none'; }, 200);
  }

  function saveSettings() {
    console.log('Настройки сохранены');
    closeModal();
  }

  const volumeSlider = document.getElementById('volume-slider');
  const volumeFill = document.getElementById('volume-fill');
  const volumeValue = document.getElementById('volume-value');
  
  volumeSlider.addEventListener('input', function(e) {
    const value = e.target.value;
    volumeFill.style.width = value + '%';
    volumeValue.textContent = value + '%';
  });
</script>
</body>
</html>
