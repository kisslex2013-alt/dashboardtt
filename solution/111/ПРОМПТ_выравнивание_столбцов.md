# ПРОМПТ ДЛЯ ИИ: Выравнивание столбцов в блоке "ЗАПИСИ времени"

## ЗАДАЧА

Выровнять все столбцы в блоке "ЗАПИСИ времени" (daily summary) в компонентах ListView и VirtualizedListView. Структура и выравнивание должны быть одинаковыми в обоих компонентах.

## ТЕКУЩАЯ СТРУКТУРА

Блок "ЗАПИСИ времени" отображается в `<summary>` каждого `<details>` элемента и содержит строку с информацией о дне:

- Дата (например: "9 ноябрь 2025 ВС")
- Процент выполнения плана (например: "0%")
- Инсайты (время работы, перерывы, средняя ставка)
- Часы (например: "0.00ч")
- Доход (например: "1500₽")

## ТРЕБОВАНИЯ К ВЫРАВНИВАНИЮ

### 1. Столбец "Дата"

- **Выровнен по левому краю**
- Содержит: `<ChevronDown />` иконку + текст даты
- Класс: `text-left` или `justify-start`
- Должен иметь возможность сжиматься при уменьшении ширины

### 2. Столбец "Процент выполнения плана"

- **Идет сразу после столбца "Дата"** (без большого отступа)
- **Выровнен по вертикали** (центрирован по вертикали относительно строки)
- Содержит: иконку статуса + текст процента (например: "0%")
- Класс: `items-center` для вертикального выравнивания
- Минимальная ширина должна быть достаточной для отображения процента и иконки

### 3. Столбец "Инсайты"

- **Идет после столбца "Процент выполнения"**
- **Расположен между столбцом "Процент выполнения" и столбцом "Часы"** (0.00ч)
- Содержит: три бейджа (время работы, перерывы, средняя ставка)
- Выравнивание: по левому краю (`justify-start`)
- На мобильных устройствах может скрываться (`hidden md:flex`)

### 4. Столбец "Часы" (0.00ч)

- **Расположен слева от столбца "Доход"** (1500₽)
- **Выровнен по левому краю** относительно столбца "Доход"
- Содержит: `<span className="text-xs text-gray-500 dark:text-gray-400 whitespace-nowrap">{metrics.totalHours.toFixed(2)}ч</span>`
- Класс: `text-left` или `justify-start` (в контексте flex-контейнера)

### 5. Столбец "Доход" (1500₽)

- **Расположен последним** (самый правый)
- **Выровнен по правому краю**
- Содержит: `<span className="text-lg font-bold whitespace-nowrap text-red-600 dark:text-red-400">{metrics.totalEarned}₽</span>`
- Класс: `text-right` или `justify-end`

## ТЕХНИЧЕСКИЕ ДЕТАЛИ

### Grid Layout

Используется CSS Grid с определением колонок:

```css
grid-cols-[minmax(120px,1fr)_minmax(50px,min-content)_minmax(0,1fr)_minmax(100px,min-content)]
md:grid-cols-[minmax(180px,1fr)_minmax(70px,min-content)_minmax(280px,1fr)_minmax(120px,min-content)]
```

**Структура колонок:**

1. **Дата**: `minmax(120px,1fr)` (мобильные) / `minmax(180px,1fr)` (десктоп)
2. **Процент**: `minmax(50px,min-content)` (мобильные) / `minmax(70px,min-content)` (десктоп)
3. **Инсайты**: `minmax(0,1fr)` (мобильные) / `minmax(280px,1fr)` (десктоп)
4. **Часы + Доход**: `minmax(100px,min-content)` (мобильные) / `minmax(120px,min-content)` (десктоп)

### Flex Layout для правой части (Часы + Доход)

Правая часть (столбцы "Часы" и "Доход") находится в одном grid-элементе и использует flex:

```jsx
<div className="flex items-center gap-1.5 justify-end relative min-w-0">
  <span className="text-xs text-gray-500 dark:text-gray-400 whitespace-nowrap">
    {metrics.totalHours.toFixed(2)}ч
  </span>
  <span className="text-lg font-bold whitespace-nowrap text-red-600 dark:text-red-400">
    {metrics.totalEarned}₽
  </span>
</div>
```

## ЧТО НУЖНО ИСПРАВИТЬ

1. **Столбец "Часы" должен быть выровнен по левому краю относительно столбца "Доход"**
   - Сейчас используется `justify-end`, что выравнивает оба элемента по правому краю
   - Нужно изменить на `justify-start` или использовать другой подход

2. **Убедиться, что столбец "Процент выполнения" всегда выровнен по вертикали**
   - Проверить наличие `items-center` в flex-контейнере

3. **Убедиться, что столбец "Инсайты" правильно позиционирован между "Процент" и "Часы"**
   - Проверить grid-структуру и отступы

4. **Убедиться, что столбец "Доход" всегда выровнен по правому краю**
   - Проверить `justify-end` или `text-right`

## ОЖИДАЕМЫЙ РЕЗУЛЬТАТ

После исправления структура должна выглядеть так:

```
[Дата ←] [Процент ↓] [Инсайты ←] [Часы ←] [Доход →]
```

Где:

- `←` = выравнивание по левому краю
- `↓` = выравнивание по вертикали (центрирование)
- `→` = выравнивание по правому краю

## ФАЙЛЫ ДЛЯ ИЗУЧЕНИЯ

1. **`ListView.jsx`**
   - Строки 83-165: структура daily summary в grid
   - Строки 147-164: правая часть с часами и доходом

2. **`VirtualizedListView.jsx`**
   - Строки 371-453: аналогичная структура для виртуализированного списка
   - Строки 435-452: правая часть с часами и доходом

3. **`useColumnResize.js`**
   - Логика управления шириной столбцов через `gridWidths` и `tableWidths`

4. **`columnWidths.js`**
   - Дефолтные значения ширины столбцов

## КРИТЕРИИ УСПЕХА

- [ ] Столбец "Дата" выровнен по левому краю
- [ ] Столбец "Процент выполнения" выровнен по вертикали и идет сразу после даты
- [ ] Столбец "Инсайты" находится между "Процент" и "Часы"
- [ ] Столбец "Часы" выровнен по левому краю относительно "Доход"
- [ ] Столбец "Доход" выровнен по правому краю и находится последним
- [ ] Все изменения применены в обоих компонентах (ListView и VirtualizedListView)
- [ ] Адаптивность сохранена (работает на мобильных и десктопе)

---

## ДОПОЛНИТЕЛЬНАЯ ИНФОРМАЦИЯ

### Текущая структура Grid:

```jsx
<div
  className="grid grid-cols-[minmax(120px,1fr)_minmax(50px,min-content)_minmax(0,1fr)_minmax(100px,min-content)] 
            md:grid-cols-[minmax(180px,1fr)_minmax(70px,min-content)_minmax(280px,1fr)_minmax(120px,min-content)] 
            items-center"
>
  {/* Колонка 1: Дата */}
  <div className="flex items-center gap-2 min-w-0 overflow-hidden">
    <ChevronDown />
    <span>{formattedDate}</span>
  </div>

  {/* Колонка 2: Процент */}
  <div className="flex items-center gap-1.5 justify-center">
    {getStatusIcon(metrics.status)}
    <span>{progressPercent}%</span>
  </div>

  {/* Колонка 3: Инсайты */}
  <div className="hidden md:flex items-center gap-1.5 text-xs justify-start">
    {/* Бейджи с инсайтами */}
  </div>

  {/* Колонка 4: Часы + Доход */}
  <div className="flex items-center gap-1.5 justify-end">
    <span>{metrics.totalHours.toFixed(2)}ч</span>
    <span>{metrics.totalEarned}₽</span>
  </div>
</div>
```

### Проблема:

В колонке 4 используется `justify-end`, что выравнивает и "Часы", и "Доход" по правому краю. Нужно, чтобы "Часы" были выровнены по левому краю, а "Доход" - по правому краю внутри этой колонки.

### Возможные решения:

1. Использовать `justify-between` для распределения пространства
2. Использовать отдельные grid-колонки для "Часы" и "Доход"
3. Использовать `ml-auto` для "Доход", чтобы он прижимался к правому краю
