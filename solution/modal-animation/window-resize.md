–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ
–ü—Ä–µ–¥–ª–∞–≥–∞—é –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö + ResizeObserver, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –ø–æ–ª–Ω–æ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ –≤—Å–µ–º–∏ –º–æ–¥–∞–ª—å–Ω—ã–º–∏ –æ–∫–Ω–∞–º–∏ —á–µ—Ä–µ–∑ BaseModal.
–ü–æ—á–µ–º—É —ç—Ç–æ —Ä–µ—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞–º–∏
‚úÖ ResizeObserver –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è viewport
‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å HeadlessUI
‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–ª—è –≤—Å–µ—Ö –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
‚úÖ –ù–µ –ª–æ–º–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∞–Ω–∏–º–∞—Ü–∏–∏

üíª –†–µ—à–µ–Ω–∏–µ: –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π BaseModal.jsxBaseModal.jsx —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π window resizeCode¬†// import PropTypes from 'prop-types';
import { Dialog } from '@headlessui/react';
import { X } from 'lucide-react';
import { useEffect, useState, useRef } from 'react';

/\*\*

- üé® –ë–∞–∑–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π resize
-
- –ù–û–í–û–ï: –î–æ
  üìù –û–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ä–µ—à–µ–Ω–∏—è
  –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

ResizeObserver –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –ø–∞–Ω–µ–ª–∏:

–°—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏ –ª—é–±–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ (–≤–∫–ª—é—á–∞—è window resize)
–ü–æ–ª—É—á–∞–µ—Ç —Ç–æ—á–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã —á–µ—Ä–µ–∑ entry.contentRect

CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —É–ø—Ä–∞–≤–ª—è—é—Ç —Ä–∞–∑–º–µ—Ä–∞–º–∏:

--panel-width –∏ --panel-height —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ JavaScript
–ü—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ inline style —Ç–æ–ª—å–∫–æ –≤–æ –≤—Ä–µ–º—è resize
–ü–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –∫ auto

–î–≤—É—Ö—Ñ–∞–∑–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è:

–§–∞–∑–∞ 1: –§–∏–∫—Å–∏—Ä—É–µ–º —Ç–µ–∫—É—â–∏–π —Ä–∞–∑–º–µ—Ä (dimensionsRef.current)
–§–∞–∑–∞ 2: –ê–Ω–∏–º–∏—Ä—É–µ–º –∫ –Ω–æ–≤–æ–º—É —Ä–∞–∑–º–µ—Ä—É —á–µ—Ä–µ–∑ requestAnimationFrame

–£—Å–ª–æ–≤–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ transition:

Transition –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ isResizing === true
–ù–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –∞–Ω–∏–º–∞—Ü–∏–∏ –æ—Ç–∫—Ä—ã—Ç–∏—è/–∑–∞–∫—Ä—ã—Ç–∏—è

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞:

–ü–æ—Å–ª–µ 300ms —Ä–∞–∑–º–µ—Ä—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –∫ auto
ResizeObserver –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏

‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ—à–µ–Ω–∏—è
–ö—Ä–∏—Ç–µ—Ä–∏–π–°—Ç–∞—Ç—É—Å–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π–ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è resize‚úÖ300ms cubic-bezier transition–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å HeadlessUI‚úÖ–ù–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å Dialog API–†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö –º–æ–¥–∞–ª–æ–≤‚úÖ–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ BaseModal–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å‚úÖ–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è–ë—Ä–∞—É–∑–µ—Ä–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞‚úÖResizeObserver –≤–æ –≤—Å–µ—Ö —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–π‚úÖ–ù–µ –ª–æ–º–∞–µ—Ç slide-up/slide-out–ë–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π‚úÖ–¢–æ–ª—å–∫–æ –Ω–∞—Ç–∏–≤–Ω—ã–µ API

üîç –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
–í–∞—Ä–∏–∞–Ω—Ç 2: –° –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º framer-motion (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥–∏–±–∫–æ—Å—Ç—å)BaseModal.jsx —Å framer-motionCode¬†import { Dialog } from '@headlessui/react';
import { X } from 'lucide-react';
import { useEffect, useState, useRef } from 'react';
import { motion, AnimatePresence } from 'framer-motion';

/\*\*

- üé® BaseModal —Å framer-motion –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–ª–∞–≤–Ω—ã—Ö –∞
  üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ—à–µ–Ω–∏–π
  –ö—Ä–∏—Ç–µ—Ä–∏–πResizeObserver + CSS varsframer-motion–°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏‚≠ê‚≠ê‚≠ê –°—Ä–µ–¥–Ω—è—è‚≠ê‚≠ê –ù–∏–∑–∫–∞—èBundle size‚úÖ +0 KB‚ö†Ô∏è +60 KB (gzipped)–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å‚úÖ –û—Ç–ª–∏—á–Ω–∞—è‚úÖ –•–æ—Ä–æ—à–∞—è–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å‚úÖ 100%‚úÖ 100%–ì–∏–±–∫–æ—Å—Ç—å‚≠ê‚≠ê‚≠ê –°—Ä–µ–¥–Ω—è—è‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è–ü–æ–¥–¥–µ—Ä–∂–∫–∞ layout‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π‚ö†Ô∏è –°—Ä–µ–¥–Ω–∏–π

üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ (ResizeObserver + CSS vars), –µ—Å–ª–∏:

‚úÖ –•–æ—Ç–∏—Ç–µ –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä bundle
‚úÖ –ù—É–∂–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
‚úÖ –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–æ–π –∞–Ω–∏–º–∞—Ü–∏–∏ resize

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—Ç–æ—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ (framer-motion), –µ—Å–ª–∏:

‚úÖ –£–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ framer-motion –≤ –ø—Ä–æ–µ–∫—Ç–µ
‚úÖ –ù—É–∂–Ω—ã —Å–ª–æ–∂–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –∏ –ø—Ä—É–∂–∏–Ω–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
‚úÖ –•–æ—Ç–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É layout changes

üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
javascript// –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã –∞–Ω–∏–º–∞—Ü–∏–∏:
// 1. –û—Ç–∫—Ä–æ–π—Ç–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
// 2. –ò–∑–º–µ–Ω–∏—Ç–µ —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞ –±—Ä–∞—É–∑–µ—Ä–∞ (–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ –∏ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ)
// 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–ª–∞–≤–Ω–æ—Å—Ç—å –ø–µ—Ä–µ—Ö–æ–¥–∞
// 4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏ —Ä–∞–∑–º–µ—Ä—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –∫ auto

// –¢–µ—Å—Ç –≤ –∫–æ–Ω—Å–æ–ª–∏:
window.addEventListener('resize', () => {
const panel = document.querySelector('[role="dialog"]');
if (panel) {
console.log('Panel dimensions:', {
width: panel.style.width,
height: panel.style.height,
transition: panel.style.transition
});
}
});

–û–±–∞ —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–æ, –∫–æ—Ç–æ—Ä–æ–µ –ª—É—á—à–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞! üöÄ
